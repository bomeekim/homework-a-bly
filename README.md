# homework-a-bly
## 프로젝트 실행 방법
### 프로젝트 빌드 및 실행
1. 아래 명령어를 입력해 프로젝트를 설치합니다.
```
$npm install
```
2. 아래 명령어를 입력해 어플리케이션을 실행합니다.
```
$npm run serve
```

## 구현 내용
### 주 사용 라이브러리와 사용 의도
|이름|용도|
|-|-|
|Axios|**API 통신**을 구현하기 위해 사용하였습니다.|
|sweetalert2|**모달 라이브러리**로 기본 구현 및 버튼 클릭에 따른 액션 처리도 쉬우며 커스텀이 가능해 선택하였습니다. 에러 발생 시 모달을 띄워 사용자에게 메시지를 노출하고 조건에 맞는 사후처리를 합니다.|
|vuetify|Vue 의 대표적인 **UI Framework**로 해당 어플리케이션의 UI를 구현하기 위해 사용하였습니다.|
|vuex|애플리케이션의 **중앙 집중식 저장소 역할**을 해주는 라이브러리이며 여러 컴포넌트에서 공통으로 참조하는 값들을 저장하기 위해 사용하였습니다.|

### 프로젝트 폴더 구조와 설계 의도
프로젝트 폴더 구조의 기본 베이스는 Vue CLI 구조이며 api, assets, components, constants, interfaces, plugins, router, scss, store, utils, views 로 구성하였습니다.
interfaces 의 경우 참조하는 컴포넌트들이 많아 별도의 폴더를 만들었으며, 비슷한 기능을 하는 것끼리 그룹핑을 해 한 곳에서 관리하기 쉽도록 만들었습니다.
```
.
├── public
├── src
│   ├── api -> API 와 관련된 폴더
│   │   ├── auth.ts -> 인증 및 로그인 등과 관련된 API 가 정의되어 있다.
│   │   └── index.ts -> axios setting
│   ├── assets
│   │   ├── images
│   │   │   ├── image-background.jpg -> 로그인 화면의 백그라운드 이미지
│   │   │   ├── image-background-750px.jpg -> 로그인 화면 백그라운드 이미지 (모바일용)
│   │   │   ├── image-logo.jpg -> 회원정보 화면 상단 헤더 로고
│   │   │   └── image-logo-transparent.jpg -> 로그인 화면 카드 상단 로고
│   ├── components -> 전역에서 사용되는 컴포넌트 정의
│   │   ├── Avartar.vue -> 프로필 사진
│   │   └── AvartarMenu.vue -> 프로필 사진 + 클릭 시 로그아웃 메뉴 노출
│   ├── constants -> 전역에서 사용되는 상수
│   │   └── index.ts
│   ├── interfaces -> 전역에서 사용되는 인터페이스
│   │   ├── rule.ts -> 입력값들을 validation 하는 함수의 타입 정의
│   │   └── userInfo.ts -> 유저 정보 타입 정의
│   ├── plugins -> 전역으로 사용되는 플러그인
│   │   ├── alert.ts -> 어플리케이션에서 사용되는 SweetAlert Modal 정의 
│   │   └── vuetify.ts -> vuetify 플러그인
│   ├── router
│   │   └── index.ts
│   ├── scss
│   │   └── swal.scss -> SweetAlert Modal 커스텀 CSS
│   ├── store
│   │   ├── index.ts
│   │   └── module
│   │   │   ├── auth.ts -> 인증 및 로그인한 유저 정보 담당
│   │   │   └── common.ts -> 앱 공통 정보 담당
│   ├── utils
│   │   ├── auth.ts -> 인증과 관련된 함수들 정의 (axios)
│   │   ├── date.ts -> 날짜와 관련된 함수들 정의
│   │   └── rules.ts -> 정규표현식으로 입력값을 검증하는 함수들 정의
│   ├── views
│   │   ├── reset
│   │   │   ├── components
│   │   │   │   ├── AuthRequest.vue -> 비밀번호 재변경 1단계 화면
│   │   │   │   ├── AuthValidate.vue -> 비밀번호 재변경 2단계 화면
│   │   │   │   └── PasswordReset.vue -> 비밀번호 재변경 3단계 화면
│   │   │   └── Main.vue -> 비밀번호 재변경 메인 화면
│   │   ├── Home.vue -> 로그인 후 메인 화면
│   │   ├── Login.vue -> 로그인 화면
│   │   └── Profile.vue -> 메인 화면의 탭이 Profile 일 때 나오는 화면 (회원정보 조회 화면) 
│   ├── App.vue
│   └── main.ts
.
```

### 컴포넌트 구조와 설계 의도
**1. 로그인 화면**

|PC|모바일|
|:-:|:-:|
|<img src="https://user-images.githubusercontent.com/11264094/144604668-e8430c33-4ad9-4fa7-acc2-2f1733013f6f.png" width="300" />|<img src="https://user-images.githubusercontent.com/11264094/144605651-8d73c052-897e-43db-9aab-beaae077e490.png" width="300" />|

로그인 화면은 `<v-card />`를 활용해 만들었습니다. `<v-card />` UI 컴포넌트는 title, text, actions 총 3개의 영역으로 나눠지는데, 
저는 각각의 영역을 아래의 구조로 만들었습니다.
- title 영역 : 에이블리 로고 이미지 배치
- text 영역 : `<v-form />` 으로 감싸 이메일, 아이디를 입력할 수 있는 form과 로그인 버튼 배치
- action 영역 : 비밀번호 재설정 버튼 배치

> [참고] v-form 을 사용하면 v-form 내부에 있는 값들이 rule 을 위반하지 않고 정상적으로 입력이 되었는지 아닌지를
> `v-model`을 통해 알 수 있어 로그인 버튼 활성화 처리가 쉽습니다.

**2. 메인 (회원정보 조회) 화면**

|PC|모바일|
|:-:|:-:|
|<img src="https://user-images.githubusercontent.com/11264094/144606818-f15211f4-2680-4c4e-8c08-d211eb48ee18.png" width="300" />|<img src="https://user-images.githubusercontent.com/11264094/144606787-9807dca5-cc73-47fc-a01a-47647dc9e04c.png" width="300" />|

회원정보 조회 화면은 크게 `<v-app-bar />`와 `<v-main />` 컴포넌트를 구성하였으며, 이커머스 플랫폼의 UI 를 참고해 만들었습니다.
첫 진입 시 로그인한 유저 정보를 조회해 현재 유저의 이름과 프로필사진, 마지막 접속일자 그리고 이메일 주소를 렌더링하며, 
이메일 주소 아래에 있는 버튼 컴포넌트 (회원등급, 쿠폰, 포인트)는 제가 임의로 구현한 것입니다.

과제 요구사항에는 이와 관련하여 따로 기재된 내용은 없었지만 에이블리가 **스타일 커머스 플랫폼**을 지향하고 있기 때문에 
**상단 헤더의 메뉴나 유저 프로필 UI 구성에 신경을 썼고, 회원등급/쿠폰/포인트 정보는 에이블리 및 이커머스의 UI/UX 참고해 추가로 구현하였습니다.**    

현재 구현된 메뉴는 Profile 밖에 없지만 `Home.vue`에 선언된 `tabList` 변수에 탭 순서에 맞게 컴포넌트를 넣어주면 
해당 컴포넌트가 탭 아이템 영역에 그려지게 됩니다. 

**3. 비밀번호 재설정 화면**

|STEP 1|STEP 2|STEP 3|
|:-:|:-:|:-:|
|<img src="https://user-images.githubusercontent.com/11264094/144608674-6919d040-eb97-482d-8b79-98edd3d048a5.png" width="300" />|<img src="https://user-images.githubusercontent.com/11264094/144608757-b4438deb-2cf2-477a-9f3a-25df23e0a4a4.png" width="300" />|<img src="https://user-images.githubusercontent.com/11264094/144608784-9d2914c8-e122-49d1-99d2-624c6f11350f.png" width="300" />|

비밀번호를 재설정하기 위해서는 인증코드 발급과 확인이 필요합니다. 
총 3개의 단계를 거쳐 비밀번호를 변경할 수 있고, 각 단계별로 성공/실패 했을 때 관리를 쉽게 하기 위해서 **중첩된 라우터**로 구성하였습니다.
비밀번호 재설정 단계가 변경될 때마다 중첩된 하위 경로가 바뀌게 되고, 부모 컴포넌트(`reset/Main.vue`)는 `<router-view />` 로만 구성되어 
있어 이 부분에 경로에 해당하는 컴포넌트가 그려지게 됩니다.

비밀번호 재설정과 관련된 컴포넌트도 `<v-card/>`로 구현하였으며, 로그인화면과 비슷한 구조로 되어있습니다.
- title 영억 : 현재 단계 타이틀
- sub title 영역 : 해당 단계에 대한 간단한 설명
- text 영역 : `<v-form />` 으로 구성된 입력 필드 및 버튼

각 화면에 입력필드는 validation 이 들어가있으며, validation 을 통과하지 못하면 버튼이 비활성화됩니다.
또한 버튼을 두 번 이상 눌러 API 가 연달아 호출되지 않도록 하기 위해 클릭 시 버튼 내 loader를 실행하게 하였습니다.

STEP 2. 인증 코드 확인 단계에서는 인증 코드 발급 API 호출 시 받은 남은 시간을 기준으로 Timer 가 작동하게 되는데,
시간 내에 인증 코드를 입력하지 못한 경우 에러 메시지가 팝업에 뜨게 되고 확인 버튼을 클릭하면 이전 단계부터 다시 시작하게 됩니다.


### (상태 관리를 사용한 경우) 상태 관리의 구조와 설계 의도
상태 관리의 경우 vuex 를 사용해 구현하였고, `common`과 `auth`두 가지 모듈로 구성하였습니다.

**1. Common (앱 공통)**

반응형으로 구현하였기 때문에 현재 화면이 모바일 사이즈인지에 따라 UI 요소들의 class를 일부 다르게 적용해주어야 합니다.
현재 화면이 모바일 사이즈인지는 vuetify 에서 breakpoint로 제공을 해줍니다.
각 컴포넌트에서 계속 이 값`(this.$vuetify.breakpoint.mobile)`을 참조해서 사용하는 것보다 
처음 어플리케이션을 실행했을 때 해당 값을 store에 저장해 필요한 곳에서 참조해 쓰는 것이 효율적이라고 판단했기 때문에 공통 모듈을 구성하였습니다.

**2. Auth (인증 관련)**

인증과 관련된 정보들을 저장하는 모듈입니다.
비밀번호 재설정 시 STEP 1에서 API를 호출해 받은 값들이 STEP 2에서 필요하고, STEP 2에서 발급받은 값 역시 STEP 3에서 필요합니다.
전후 관계에 따라 필요한 값들이 다른데, 만약 이를 props와 emit 으로 만들게 되면 하위 컴포넌트에서 상위 컴포넌트로 값을 전달해야하고,
상위 컴포넌트는 다음 단계의 하위 컴포넌트에게 또 값을 전달해주어야 합니다.

그렇기 때문에 이러한 구조가 비효율적이라 판단이 되어 인증과 관련된 store 모듈을 만들었고, 
비밀번호 재설정과 로그인한 유저의 정보까지 관리할 수 있도록 구성하였습니다.

### 리뷰어에게 강조하고 싶은 부분 또는 그 외 기타 내용
**1. 생애 첫 타입스크립트**

과제를 타입스크립트로 작성해야 했는데, 사실 타입스크립트는 처음이라서 어떻게 해야할 지 막막했습니다.
실무에서는 주로 Vue.js 와 자바스크립트로 개발을 했었고, 사용하는 Vue의 버전이 2.x 였기 때문에 
타입스크립트로 과제를 하다보면 예기치 못한 오류나 에러들이 발생해 시간을 많이 잡아먹진 않을까 걱정이 되었습니다.

우선 Vue 와 타입스크립트로 어떻게 개발을 하는 지 살펴봐야겠다는 생각이 들어
공식 문서와 [유투브 강의-프로젝트 셋팅](https://www.youtube.com/watch?v=zLkHHr6qlYk), [유투브 강의-component 만들기](https://www.youtube.com/watch?v=kVZZRYHKFvg)를 참고하였습니다.

해당 강의를 통해 기존에 자바스크립트로 개발할 때와는 달리 타입스크립트에서는 데코레이터를 이용해 선언한다는 것을 알게 되었고,
[Vue.js and TypeScript: A complete tutorial with examples](https://blog.logrocket.com/vue-typescript-tutorial-examples/#classbasedcomponents) 블로그 글을 참고해 `computed`, `vuex` 등을 구현해나갔습니다.

처음 타입스크립트를 사용해 낯설기도 했지만 타입스크립트의 장점을 알게 되었고, 
조금 까다롭지만 타입을 명시해주니 `이게 어떤 데이터였지?` 생각하면서 헷갈리지 않는 점이 좋았습니다. 

개발을 하면서 조금 찜찜했던 부분은 interface 를 사용하긴 했으나 전역으로 사용하는 interface를 구성하는 부분이 최선의 방법은 아니라는 생각이 들었고,
또한 SweetAlert2 라이브러리를 랩핑한 alert 플러그인 함수의 타입을 명시하지 않고 any 로 둔 부분 그리고 eslint rule을 제대로 셋팅하지 못한 부분입니다.

이러한 부분들을 개선하지 못하고 제출하는 것이 조금 아쉬웠지만 처음 해본 것에 의의를 두고,
앞으로 더 공부해서 실무에서 사용할 수 있도록 노력해야겠다는 생각이 들었습니다.

**2. 유저의 입장을 고려한 UI/UX 설계**

유저의 입장을 고려해 UI/UX 를 설계하였고, 에이블리를 비롯한 이커머스 및 SNS 사이트에 쓰이는 디자인 요소들을 참고해 구현하였습니다.

**3. Vuetify를 이용해 반응형 화면 구현**

Vue 를 사용하면서 Vuetify 도 함께 오랫동안 사용해왔던 터라 Vuetify 를 이용해 반응형으로 화면을 구현하였습니다.
Vuetify 의 대부분 UI 엘리먼트들이 flexbox를 이용해 구현되어 있기 때문에 반응형으로 구현이 가능하며,
디바이스의 사이즈가 달라져도 요소들의 너비나 크기 등이 유연하게 조절되어 PC와 모바일에 적합한 UI를 구현할 수 있게 되었습니다.

**4. 한눈에 알아볼 수 있는 Git 커밋**

평소에도 Jira와 Git을 엄격하게 관리하면서 쓰는 편이라 개인 작업이나 과제 등을 할 때도 커밋 메시지에 신경을 써서 작성합니다.
기능이나 모듈 단위로 커밋에 Prefix 를 붙이는 편이며 화면 작업과 API 연동 작업을 나눠서 하는 편입니다.
(비밀번호 재설정의 경우 기능이 간단해 하나의 커밋으로 처리하였습니다.)

보통 Commit 메시지는 Jira 단위로 작성하는 편인데, 코드의 양이 적고 많음에 상관없이 어떠한 기능을 구현하기 위해서 해야할 일감을
적당한 크기 즉, **누가봐도 이 커밋에선 이런 코드를 작성했구나 알 수 있을 정도로** 나누어서 Jira 티켓을 작성하고 개발을 진행하는 편입니다.

해당 과제에서는 별도로 Jira를 사용하진 않았지만, **제가 보통 업무를 할 때 어떤 단위로 일감을 나누어 진행하는 지 보여드리고 싶어서
git log 에 있는 것과 같이 커밋 메시지들을 작성하였습니다.**


